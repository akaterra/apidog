{{title}}
===

{{description}}

{{#each this.chaptersAsLists}}
  {{#with (context 'definitions') as |definitions|}}
    {{#ifCond ../this.title '==' '$'}}
Main chapter
---

    {{else}}
{{first (lookup definitions ../../this.title 'title') ../../this.title}}
---

    {{/ifCond}}
    {{#if (lookup definitions ../this.title 'description')}}
{{join (lookup definitions ../this.title 'description') true}}

    {{/if}}
  {{/with}}
{{#each this.groups}}
  {{#ifCond this.title '!=' '$'}}
    {{#with (context 'definitions') as |definitions|}}
* {{first (lookup definitions ../../this.title 'title') ../../this.title}}
    {{/with}}
    {{#each ../this.subgroups}}
      {{#ifCond this.title '!=' '$'}}
        {{#with (context 'definitions') as |definitions|}}
  * {{first (lookup definitions ../../this.title 'title') ../../this.title}}
        {{/with}}
        {{#each ../this.apis}}
          {{#with (context 'definitions') as |definitions|}}
    * [{{../this.0.title}}](#{{toMdLink ../this.0.title ' ' (first (lookup definitions ../../../../../this.title 'title') ../../../../../this.title) ' (' (first (lookup definitions ../../../this.title 'title') ../../../this.title) ')'}})
          {{/with}}
        {{/each}}
      {{else}}
        {{#each ../this.apis}}
          {{#with (context 'definitions') as |definitions|}}
  * [{{../this.0.title}}](#{{toMdLink ../this.0.title ' ' (first (lookup definitions ../../../../../this.title 'title') ../../../../../this.title) ' (' (first (lookup definitions ../../../this.title 'title') ../../../this.title) ')'}})
          {{/with}}
        {{/each}}
      {{/ifCond}}
    {{/each}}
  {{else}}
    {{#each ../this.subgroups}}
      {{#ifCond this.title '!=' '$'}}
        {{#with (context 'definitions') as |definitions|}}
* {{first (lookup definitions ../../this.title 'title') ../../this.title}}
        {{/with}}
        {{#each ../this.apis}}
  * {{this.0.title}}
        {{/each}}
      {{else}}
        {{#each ../this.apis}}
* {{this.0.title}}
        {{/each}}
      {{/ifCond}}
    {{/each}}
  {{/ifCond}}
{{/each}}

{{/each}}

{{#each this.chaptersAsLists}}
{{#each this.groups}}
  {{#ifCond this.title '!=' '$'}}
{{../this.title}}
---
  {{/ifCond}}
  {{#each this.subgroups}}
    {{#each this.apis}}
      {{#each this as |block index|}}

        {{#with (context 'definitions') as |definitions|}}
### {{../this.title}} {{first (lookup definitions ../../../../this.title 'title') ../../../../this.title}} ({{first (lookup definitions ../../../this.title 'title') ../../../this.title}})
        {{/with}}
{{join this.description true}}

{{#ifCond this.api.transport.name '==' 'http'}}
**{{toUpperCase ../this.api.transport.name}}** `{{toUpperCase ../this.api.transport.method}} {{../this.api.endpoint}}`
{{else}}
**{{toUpperCase ../this.api.transport.name}}** `{{../this.api.endpoint}}`

{{/ifCond}}


{{#if this.headers.length}}
  {{#each this.headersGroups as |params key|}}

**{{#ifCond key '==' '$'}}Header{{else}}{{key}}{{/ifCond}}:**

| Field | Type | Description |
| ----- | ---- | ----------- |
    {{#each params.list}}
| {{this.field.name}} | {{this.type.name}} | {{join this.description}} |
    {{/each}}
  {{/each}}
{{/if}}

{{#if this.params.length}}
  {{#each this.paramsGroups as |params key|}}

**{{#ifCond key '==' '$'}}Parameter{{else}}{{key}}{{/ifCond}}:**

| Field | Type | Description |
| ----- | ---- | ----------- |
    {{#each params.list}}
| {{this.field.name}}{{#if this.field.isOptional}}<sup> optional</sup>{{else}}{{/if}} | {{this.type.name}} | {{join this.description}}{{#if this.type}}{{#if this.type.allowedValues}}{{#if this.description.length}}<br><br>{{/if}}**Allowed values:**{{#each this.type.allowedValues}}<br>{{this}}{{/each}}{{/if}}{{/if}}{{#if this.field}}{{#if this.field.defaultValue}}{{#if this.description.length}}<br><br>{{else}}{{#if this.type}}{{#if this.type.allowedValues}}<br><br>{{/if}}{{/if}}{{/if}}**Default value:**<br>{{this.field.defaultValue}}{{/if}}{{/if}} |
    {{/each}}
  {{/each}}
{{/if}}

{{#if this.example}}
  {{#each this.example}}

**{{#if this.title}}{{this.title}}{{else}}Usage example{{/if}}:**

```{{this.type}}
{{join this.description true}}
```
  {{/each}}
{{/if}}

{{#if this.successExample}}
  {{#each this.successExample}}

**{{#if this.title}}{{this.title}}{{else}}Success example{{/if}}:**

```{{this.type}}
{{join this.description true true}}
```
  {{/each}}
{{/if}}

      {{/each}}
    {{/each}}
  {{/each}}
{{/each}}
{{/each}}
