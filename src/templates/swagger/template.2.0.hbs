{{setVar "countNames" 1}}{{setVar "totalNames" total.names}}{
  "swagger": "2.0",
  "info": {
    "title": "{{this.title}}",
    "description": "{{this.description}}",
    "version": "{{this.version}}"
  },
  {{#if this.config.sampleRequestUrl}}
  "host": "{{this.config.sampleRequestUrl}}",
  {{/if}}
  "basePath": "/",
  "schemes": [
  {{#each this.schemes}}
    "{{this}}"{{#if @last}}{{else}},{{/if}}
  {{/each}}
  ],
  "paths": {
  {{#each chaptersAsLists as |chapter index|}}
    {{#each this.groups}}
      {{#each this.subgroups}}
        {{#each this.names as |versions key|}}
    "{{this.[0].api.endpoint}}": {
          {{#each this}}
      "{{this.api.transport.method}}": {
        "summary": "{{this.title}}",
        "description": "{{this.description}}",
        "operationId": "{{this.id}}",
        "consumes": [
            {{#each this.contentType}}
              {{#ifCond this "==" "form"}}
          "application/x-www-form-urlencoded"{{#if @last}}{{else}},{{/if}}
              {{else ifCond ../this "==" "json"}}
          "application/json"{{#if @last}}{{else}},{{/if}}
              {{else ifCond ../../this "==" "xml"}}
          "application/xml"{{#if @last}}{{else}},{{/if}}
              {{/ifCond}}
            {{/each}}
        ],
        "produces": [
            {{#each this.contentType}}
              {{#ifCond this "==" "form"}}
          "application/x-www-form-urlencoded"{{#if @last}}{{else}},{{/if}}
              {{else ifCond ../this "==" "json"}}
          "application/json"{{#if @last}}{{else}},{{/if}}
              {{else ifCond ../../this "==" "xml"}}
          "application/xml"{{#if @last}}{{else}},{{/if}}
              {{/ifCond}}
            {{/each}}
        ]
      }{{#if @last}}{{else}},{{/if}}
          {{/each}}
    }{{#ifCond (context "countNames") "==" (context "totalNames")}}{{else}},{{/ifCond}}{{addVar "countNames" 1}}
        {{/each}}
      {{/each}}
    {{/each}}
  {{/each}}
  }
}